<!DOCTYPE html>
<html>
    <head>
        <title>Nantes - Airbnb</title>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="./assets/style/fullpage.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </head>
    <body>
            <nav class="navbar navbar-default">
                    <div class="container-fluid">
                      <div class="navbar-header">
                        <a class="navbar-brand" href="#">Repof-AirBnb</a>
                      </div>
                  
                      <!-- Collect the nav links, forms, and other content for toggling -->
                    </div><!-- /.container-fluid -->
                  </nav>
                  <script>
                        // Initialize and add the map
                        function initMap() {
                          // The location of Uluru
                          var uluru = {lat: 47.2228721, lng: -1.5866655};
                          // The map, centered at Uluru
                          var map = new google.maps.Map(
                              document.getElementById('map'), {zoom: 4, center: uluru});
                          // The marker, positioned at Uluru
                          var marker = new google.maps.Marker({position: uluru, map: map});
                        }

                        function toggleView(){
                            var list = $('#listFlat');
                            var map = $('#mapRow');
                            
                            if(list.hasClass("col-sm-8")){
                                list.removeClass("col-sm-8");
                                map.addClass("col-sm-8");
                                map.show()
                                list.hide()
                            }else {
                                map.removeClass("col-sm-8");
                                list.addClass("col-sm-8");
                                list.show()
                                map.hide();
                            }
                            console.log(map.css('display'))
                            console.log(list.css('display'))
                        }

                        function resetShow(val){
                            if(val.matches){
                                var list = $('#listFlat');
                                var map = $('#mapRow');
                                list.show()
                                map.show()
                            }
                        }

                        function switchView(test){
                            var list = $('#listFlat');
                            var map = $('#mapRow');

                            if(test){
                                list.removeClass("col-lg-5")
                                map.removeClass("col-lg-5")
                                map.addClass("col-lg-10")
                                list.hide()
                            } else {
                                map.removeClass("col-lg-10")
                                map.addClass("col-lg-5")
                                list.addClass("col-lg-5")
                                list.show()                           }
                        }

                    var x = window.matchMedia("(min-width: 992px)")
                    resetShow(x) // Call listener function at run time
                    x.addListener(resetShow) // Attach listener function on state changes 
                </script>
                  <div class="container-fluid">
                        <div class="row mainrow">
                          <div class="col-lg-2 col-sm-4 ">
                                <ul class="list-group">
                                        <li class="list-group-item" id="baseToggle">
                                                <div class="btn-group btn-group-toggle"  data-toggle="buttons">
                                                        <label class="btn btn-secondary active">
                                                          <input type="radio" name="options" id="option1" onchange="switchView(false)" autocomplete="off" checked> List
                                                        </label>
                                                        <label class="btn btn-secondary">
                                                          <input type="radio" name="options" id="option2" onchange="switchView(true)" autocomplete="off"> Map
                                                        </label>
                                                      </div>
                                        </li>
                                        <li class="list-group-item ">
                                            Critères de recherche
                                        </li>
                                        <li class="list-group-item ">
                                            Critères de recherche
                                        </li>
                                        <li class="list-group-item ">
                                            Critères de recherche
                                        </li>
                                        <li class="list-group-item ">
                                            Critères de recherche
                                        </li>
                                        <li class="list-group-item ">
                                            Critères de recherche
                                        </li>
                                        <li class="list-group-item ">
                                            Critères de recherche
                                        </li>
                                        <li class="list-group-item ">
                                            Critères de recherche
                                        </li>
                                        <li class="list-group-item ">
                                            Critères de recherche
                                        </li>
                                        <li class="list-group-item ">
                                            Critères de recherche
                                        </li>
                                        <li class="list-group-item ">
                                            Critères de recherche
                                        </li>
                                </ul>
                          </div>
                          <div class="col-sm-8 col-lg-5 col-xs-12" id="listFlat">
                            <ul class="list-group">
                                    
                                    <li class="list-group-item ">
                                            <div class="row">
                                                <div class="col-3">Image</div>
                                                <div class="col-6">Texte</div>
                                                <div class="col-3">Prix</div>
                                            </div>
                                    </li>
                                    <li class="list-group-item ">
                                            <div class="row">
                                                <div class="col-3">Image</div>
                                                <div class="col-6">Texte</div>
                                                <div class="col-3">Prix</div>
                                            </div>
                                    </li>
                                    <li class="list-group-item ">
                                            <div class="row">
                                                <div class="col-3">Image</div>
                                                <div class="col-6">Texte</div>
                                                <div class="col-3">Prix</div>
                                            </div>
                                    </li>
                                    <li class="list-group-item ">
                                            <div class="row">
                                                <div class="col-3">Image</div>
                                                <div class="col-6">Texte</div>
                                                <div class="col-3">Prix</div>
                                            </div>
                                    </li>
                                    <li class="list-group-item ">
                                            <div class="row">
                                                <div class="col-3">Image</div>
                                                <div class="col-6">Texte</div>
                                                <div class="col-3">Prix</div>
                                            </div>
                                    </li>
                                    
                            </ul>
                          </div>
                          <div class="col-lg-5" id="mapRow">
                            <div id="map"></div>
                            <script async defer
                               src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAZ52PK6d8OYGrFxMyR4_jOL4kEUorA9Co&callback=initMap">
                            </script>                            
                          </div>
                        </div>
                      </div>

                      <button id="toggleMap" onclick="toggleView()" type="button">Map/List</button> 
    </body>
    
            
</html>